- name: Playbook Reproducer
  hosts: all
  gather_facts: false

  vars:
  
    # $ python
    # Python 3.11.7 (main, Dec 18 2023, 00:00:00) [GCC 13.2.1 20231011 (Red Hat 13.2.1-4)] on linux
    # Type "help", "copyright", "credits" or "license" for more information.
    # >>> print(['- {}'.format(i) for i in 'abcdefghijklmnopqrstuvwxyz'])
    # ['- a', '- b', '- c', '- d', '- e', '- f', '- g', '- h', '- i', '- j', '- k', '- l', '- m', '- n', '- o', '- p', '- q', '- r', '- s', '- t', '- u', '- v', '- w', '- x', '- y', '- z']
    # >>> for x in ['- {}'.format(i) for i in 'abcdefghijklmnopqrstuvwxyz']: print(x)

    services:
      - a
      - b
      - c
      - d
      - e
      - f
      - g
      - h
      - i
      - j
      - k
      - l
      - m
      - nn
      - o
      - p
      - q
      - r
      - s
      - t
      - u
      - v
      - w
      - x
      - yy
      - z
      - za
      - zb
      - zc
      - zd
      - ze
      - zf
      - zg
      - zi
      - zj
      - zk
      - zl
      - zm
      - zn
      - zo
      - zp
      - zq
      - zr
      - zs
      - zt
      - zu
      - zv
      - zw
      - zx
      - zy
      - zz

    pools:
      - name: a
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: b
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10     
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: c
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: d
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10    
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: e
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10     
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: f
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10 
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: g
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10    
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: h
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10  
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: i
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: j
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: k
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: l
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10    
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: m
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: nn
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: o
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: p
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10  
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: q
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10    
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: r
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: s
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10    
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: t
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10 
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: u
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: v
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: w
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10 
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: x
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10  
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: yy
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10   
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: z
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: za
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: zb
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10
      - name: zc
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: zd
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10
      - name: ze
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: zf
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
      - name: zg
        var1: 1
        var2: 2
        var3: 3
        var4: 4
        var5: 5
        var6: 6
        var7: 7
        var8: 8
        var9: 9
        var10: 10
        var11: 11
        var12: 12
        var13: 13
        var14: 14
        var15: 15
        var16: 16
        var17: 17
        var18: 18
        var19: 19
        var20: 20
        var21: 21
        var22: 22
        var23: 23
        var24: 24
        var25: 25
        var26: 26
        var27: 27
        var28: 28
        var29: 29
        var30: 30
        var31: 31
        var32: 32
        var33: 33
        var34: 34
        var35: 35
        var36: 36
        var37: 37
        var38: 38
        var39: 39
        var40: 40
    
    pools_pre: []

  tasks:
    - name: Loop set_fact
      ansible.builtin.set_fact:
        pools_pre: "{{ pools_pre + [ item[1] ] }}"
      when: item[0] == item[1].name
      with_nested:
        - "{{ services }}"
        - "{{ pools }}"
      delegate_to: localhost

    - debug: var=pools_pre
